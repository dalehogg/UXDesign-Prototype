window.addEventListener("load",function(){var u=null,s={MouseX:0,MouseY:0,mouseStartX:0,mouseStartY:0},c=1,l=1,d=[],m=[],w=document.querySelector(".boxActiveButton"),v=document.querySelector(".circleActiveButton"),g=document.querySelector(".arrangeTopButton"),h=document.querySelector(".arrangeTopOne"),p=document.querySelector(".arrangeBottomButton"),f=document.querySelector(".arrangeBottomOne"),L=document.querySelector(".outputX"),y=document.querySelector(".outputY"),I=document.querySelector(".outputName"),S=document.querySelector(".layerOutput");function e(t){var e=w.classList.contains("shadowInsetButton"),n=v.classList.contains("shadowInsetButton"),o=document.querySelectorAll(".drawnItem");document.querySelector("#boxDrawLayer");w.classList.contains("shadowInsetButton")||v.classList.contains("shadowInsetButton")?$(".drawnItem").addClass("userNone"):($(".drawnItem").removeClass("userNone"),$(".drawnItem").mousedown(function(){$(".drawnItem").removeClass("selectedDiv"),$(this).addClass("selectedDiv"),I.innerHTML=this.classList[1]})),e||n?t.style.cursor="crosshair":(function(){var e=document.querySelectorAll(".drawnItem");for(i=0;i<e.length;i++)e[i].addEventListener("mousedown",function(e){var n=e.clientX-parseInt(window.getComputedStyle(this).left),s=e.clientY-parseInt(window.getComputedStyle(this).top),o=this;function t(e){var t=document.querySelector(".selectedDiv").getBoundingClientRect();console.log(t),L.innerHTML=t.x,y.innerHTML=t.y,o.style.top=e.clientY-s+"px",o.style.left=e.clientX-n+"px"}window.addEventListener("mousemove",t),window.addEventListener("mouseup",function e(){window.removeEventListener("mousemove",t),window.removeEventListener("mouseup",e)})})}(),t.style.cursor="default"),$(".drawnItem").mouseover(function(){$(".drawnItem").css("cursor","grab")}),$(".drawnItem").mousedown(function(){$(".drawnItem").css("cursor","grabbing")}),$(".drawnItem").mouseup(function(){$(".drawnItem").css("cursor","grab")});var r=m.slice(-1)[0];function a(){r.forEach(function(e,t){e.style.zIndex=t})}f.addEventListener("click",function(){for(i=0;i<o.length;i++){for(i=0;i<r.length;i++){var e=$(r).index($(".selectedDiv")),t=e-1;console.log(t);var n=$(r).get(e),s=$(r).get(e-1);console.log(s)}return t<0?0:(r.splice(e,1,s),r.splice(t,1,n),a())}}),h.addEventListener("click",function(){for(i=0;i<o.length;i++){for(i=0;i<r.length;i++)var e=$(r).index($(".selectedDiv")),t=e+1,n=$(r).get(e),s=$(r).get(e+1);return t>r.length-1?0:(r.splice(e,1,s),r.splice(t,1,n),a())}}),g.addEventListener("click",function(){for(i=0;i<o.length;i++){var e=$(r).index($(".selectedDiv"));return r.push(r.splice(e,1)[0]),a()}return 0}),p.addEventListener("click",function(){for(i=0;i<o.length;i++)if(o[i].classList.contains("selectedDiv")){var e=$(r).index(o[i]);return r.unshift(r.splice(e,1)[0]),a()}return 0}),t.addEventListener("mousedown",function(e){return!w.classList.contains("shadowInsetButton")&&!v.classList.contains("shadowInsetButton")||null!=u?0:(s.mouseStartX=s.MouseX,s.mouseStartY=s.MouseY,(u=document.createElement("div")).className="drawnItem",w.classList.contains("shadowInsetButton")&&(u.style.height,s.MouseX,u.style.width,s.MouseY,u.classList.add("box-"+c++)),v.classList.contains("shadowInsetButton")&&(u.style.borderRadius="50%",console.log("hey"),u.classList.add("circle-"+l++)),t.appendChild(u),void $(".drawnItem").addClass(function(e){d.push($(".drawnItem"));var t=$(".drawnItem").toArray();m.push(t);var n=m.slice(-1)[0].slice(-1)[0],s=$(n).index(".drawnItem");return $(u).css("z-index",s),0}))}),t.addEventListener("mouseup",function(e){var t=document.createElement("div");return t.className=u.classList[1]+" layer",t.innerHTML=u.classList[1],S.appendChild(t),console.log(u.classList),console.log(u.classList[1]),u=null,0}),t.addEventListener("mousemove",function(e){var t;if((t=e).pageX&&(s.MouseX=t.pageX+window.pageXOffset,s.MouseY=t.pageY+window.pageYOffset),null!==u){var n=document.querySelectorAll(".drawnItem");for(i=0;i<n.length;i++)n[i].getBoundingClientRect();u.style.width=Math.abs(s.MouseX-s.mouseStartX)+"px",u.style.height=Math.abs(s.MouseY-s.mouseStartY)+"px",u.style.left=s.MouseX-s.mouseStartX<0?s.MouseX+"px":s.mouseStartX+"px",u.style.top=s.MouseY-s.mouseStartY<0?s.MouseY+"px":s.mouseStartY+"px"}})}w.addEventListener("click",function(){return w.classList.toggle("shadowInsetButton"),v.classList.remove("shadowInsetButton"),e(document.getElementById("boxDrawLayer"))}),v.addEventListener("click",function(){return v.classList.toggle("shadowInsetButton"),w.classList.remove("shadowInsetButton"),e(document.getElementById("boxDrawLayer"))})});